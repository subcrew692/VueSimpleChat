{"version":3,"sources":["webpack:///./src/App.vue?de3b","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/LoginPage.vue","webpack:///./src/components/LoginPage.vue?ff31","webpack:///./src/components/LoginPage.vue","webpack:///src/components/ChatRoom.vue","webpack:///./src/components/ChatRoom.vue?39d5","webpack:///./src/components/ChatRoom.vue","webpack:///src/components/Register.vue","webpack:///./src/components/Register.vue?2f10","webpack:///./src/components/Register.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","userFileRef","firebase","database","ref","LoginPage","data","username","password","loginSuccess","allUserList","message","methods","login","vm","i","length","userAccount","setCookie","$router","push","$refs","show","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","console","log","mounted","on","snapshot","val","keys_default","forEach","key","obj","objKey","components_LoginPage","_vm","staticClass","variant","_v","prepend","model","value","callback","$$v","expression","type","width","staticStyle","text-align","size","click","$event","to","title","ok-only","_s","src_components_LoginPage","LoginPage_normalizeComponent","msgRef","userRef","storage","ChatRoom_userFileRef","storageRef","groupRef","groupImgRef","ChatRoom","components","loading","vue_loading_min_default","a","hoverMessageId","groupName","groupImage","userName","messages","upload","progress","currentMsgID","isLoading","isChangeHeadPic","userList","userPic","viewModal","viewImage","viewImageTitle","otherUserPic","selectOtherUser","firstOpen","viewOtherUserModal","viewOtherUserModalTitle","viewOtherUserHeadPicture","modifyGroupModal","modifyGroupName","modifyGroupNameMsg","modifyGroupImage","previewGroupImageSrc","tempImage","saveName","cookieName","getUserHeadPicture","undefined","tempName","hasPic","detail","j","pictureURL","now","hours","getHours","minutes","getMinutes","sendMessage","e","querySelector","shiftKey","trim","preventDefault","headPicture","timeStamp","scrollToBottom","uploadGroupImage","target","files","reader","FileReader","onload","result","readAsDataURL","confirmGroupNameModify","editer","uploadGroupImageRef","file","fileName","Math","floor","uploadTask","child","put","contentType","TaskEvent","STATE_CHANGED","bytesTransferred","totalBytes","error","code","downloadURL","getDownloadURL","then","url","changeHeadPic","getElementById","sendImage","isMessage","metadata","progressBar","userTask","setAttribute","uploadUserFileRef","deleteMessage","remove","readMore","previousElementSibling","viewHeadPicture","clickImageMessage","imageId","viewOtherUser","item","getCookie","ca","split","c","charAt","substring","indexOf","deleteAllCookies","cookies","eqPos","substr","roomBody","scrollTop","scrollHeight","logOut","messageData","map","extends_default","groupNameList","Names","groupImageList","Images","updated","querySelectorAll","offsetHeight","components_ChatRoom","font-family","loader","active","can-cancel","is-full-page","update:active","img-src","img-width","img-height","img-alt","img-right","slot","alt","src","height","_e","right","text","href","_l","mouseenter","mouseleave","directives","rawName","for","accept","change","class","disable","keydown","_k","keyCode","scopedSlots","_u","fn","ok","download","max-width","hide-footer","color","state","Boolean","placeholder","drop-placeholder","browse-text","src_components_ChatRoom","ChatRoom_normalizeComponent","prototype","yyyymmddByDash","yyyy","getFullYear","mm","getMonth","dd","getDate","concat","Register_userFileRef","Register","email","usernamePass","passwordPass","emailPass","time","registerSuccess","validationUsername","validationPassword","validationEmail","test","modalOKButton","clearInterval","hide","register","_this","validationInput","setInterval","catch","pass","components_Register","src_components_Register","Register_normalizeComponent","Vue","use","BootstrapVue","Router","router","routes","path","component","config","productionTip","el","App","template"],"mappings":"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","file":"static/js/app.5d2e2ca5d7c64a473cb7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cb3457f8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cb3457f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cb3457f8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <!-- <img src=\"./assets/logo.png\"> -->\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n  <b-container class=\"col-md-4\">\r\n    <h2><b-badge variant=\"success\">Login</b-badge></h2>\r\n\r\n    <!-- Using components -->\r\n    <b-input-group prepend=\"Username\" class=\"mt-3\">\r\n      <b-form-input v-model=\"username\"></b-form-input>\r\n    </b-input-group>\r\n    \r\n    <b-input-group prepend=\"Password\" class=\"mt-3\">\r\n      <b-form-input type=\"password\" v-model=\"password\"></b-form-input>\r\n      <b-input-group-append>\r\n        <b-button variant=\"outline-primary\"><i class=\"fa fa-eye\"></i></b-button>\r\n      </b-input-group-append>   \r\n    </b-input-group>\r\n    <hr>\r\n    <table width=\"100%\">\r\n      <tbody>\r\n        <tr>\r\n          <td style=\"width:50%;text-align:left;\">\r\n            <b-button variant=\"info\" size=\"sm\" @click=\"login()\">登入</b-button>\r\n          </td>\r\n          <td style=\"width:50%;text-align:right;\">\r\n            <router-link to=\"/register\" class=\"btn btn-outline-primary btn-sm\">註冊</router-link>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <b-modal ref=\"msgModal\" title=\"Infomation\" ok-only>\r\n        {{message}}\r\n    </b-modal>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nconst userFileRef = firebase.database().ref('/userAccount/');\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      loginSuccess: false,\r\n      allUserList: [],\r\n      message: ''\r\n    }\r\n  },\r\n  methods: {\r\n    login() {\r\n      const vm = this;\r\n      const username = vm.username;\r\n      const password = vm.password;\r\n      const allUserList = vm.allUserList;\r\n      // 以username找出是否有該筆帳號\r\n      for(var i = 0; i < allUserList.length; i++) {\r\n        const userAccount = allUserList[i];\r\n        if(username === userAccount.username && password === userAccount.password) {\r\n          vm.setCookie('name', username, 30);\r\n          vm.$router.push('/chatRoom');\r\n        }else {\r\n          vm.message = '帳號或密碼有誤!';\r\n          this.$refs['msgModal'].show();\r\n        }\r\n      }\r\n    },\r\n    setCookie(cname, cvalue, exdays) {\r\n      var d = new Date();\r\n      d.setTime(d.getTime() + (exdays * 1000 * 60 * 60 * 24));\r\n      var expires = 'expires=' + d.toUTCString();\r\n      document.cookie = `${cname}=${cvalue};${expires};path/`;\r\n      console.log(document.cookie);\r\n    }\r\n  },\r\n  mounted() {\r\n    const vm = this;\r\n    userFileRef.on('value', function(snapshot) {\r\n        const val = snapshot.val();\r\n        Object.keys(val).forEach(key => {\r\n            const obj = val[key];\r\n            Object.keys(obj).forEach(objKey => {\r\n                vm.allUserList.push(obj[objKey]);\r\n            });\r\n        });\r\n        console.log(vm.allUserList);\r\n    });\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/LoginPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"col-md-4\"},[_c('h2',[_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Login\")])],1),_vm._v(\" \"),_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":\"Username\"}},[_c('b-form-input',{model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_vm._v(\" \"),_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":\"Password\"}},[_c('b-form-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"outline-primary\"}},[_c('i',{staticClass:\"fa fa-eye\"})])],1)],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('table',{attrs:{\"width\":\"100%\"}},[_c('tbody',[_c('tr',[_c('td',{staticStyle:{\"width\":\"50%\",\"text-align\":\"left\"}},[_c('b-button',{attrs:{\"variant\":\"info\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"登入\")])],1),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"50%\",\"text-align\":\"right\"}},[_c('router-link',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"to\":\"/register\"}},[_vm._v(\"註冊\")])],1)])])]),_vm._v(\" \"),_c('b-modal',{ref:\"msgModal\",attrs:{\"title\":\"Infomation\",\"ok-only\":\"\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.message)+\"\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b9e79df\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LoginPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b9e79df\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LoginPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b9e79df\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LoginPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LoginPage.vue\n// module id = null\n// module chunks = ","<template>\r\n<b-container class=\"col-md-5\" style=\"font-family: courier new;\">\r\n  <!-- Modal message -->\r\n  <loading loader=\"bars\" \r\n      :active.sync=\"isLoading\" \r\n      :can-cancel=\"true\" \r\n      :is-full-page=\"false\"></loading>\r\n    <b-card :img-src=\"userPic\" img-width=\"70\" img-height=\"70\" img-alt=\"Card image\" img-right class=\"cardWithoutBorder mb-3\">\r\n      <b-card-text class=\"text-left\">Welcome to {{groupName}}! {{userName}}</b-card-text>\r\n    </b-card>\r\n    <!-- Room Head -->\r\n    <b-card class=\"roomHeadView\">\r\n        <b-media>\r\n        <b-img slot=\"aside\" alt=\"placeholder\" v-if=\"groupImage !== ''\"\r\n        :src=\"groupImage\" \r\n        width=\"50\" height=\"50\"></b-img>\r\n\r\n        <h5 class=\"mt-0\" slot=\"aside\">{{groupName}}</h5>\r\n        <div style=\"text-align:right\">\r\n            <b-dropdown id=\"dropdown-right\" right text=\"Setting\" variant=\"primary\" class=\"m-2\">\r\n                <b-dropdown-item href=\"#\" @click=\"viewHeadPicture();isChangeHeadPic=true\">大頭貼檢視/更新</b-dropdown-item>\r\n                <b-dropdown-item href=\"#\" @click=\"modifyGroupModal=true;\">編輯群組</b-dropdown-item>\r\n                <b-dropdown-item href=\"#\" @click=\"logOut()\">登出</b-dropdown-item>\r\n            </b-dropdown>\r\n        </div>\r\n        </b-media>\r\n    </b-card>\r\n\r\n    <!-- Room Body -->\r\n    <b-card id=\"js-roomBody\" class=\"roomBodyView\">\r\n        <!-- 註解：使用template來當迴圈容器，或是判斷用的容器，當條件達成時產出template內容 -->\r\n        <template v-for=\"item in messages\">\r\n            <!-- other people -->\r\n            <template v-if=\"item.userName != userName\">\r\n                <b-media-aside>\r\n                  <b-img slot=\"aside\" class=\"messageBox__user mt-3\"\r\n                  :src=\"item.headPicture === null ? otherUserPic : item.headPicture\"\r\n                  @click=\"viewOtherUser(item)\"></b-img>\r\n                  <div class=\"messageBox__content\">\r\n                      <div class=\"messageBox__name\">{{item.userName}}</div>\r\n                      <div v-if=\"item.type == 'text'\" class=\"messageBox__message\">\r\n                          <div class=\"messageBox__text\">{{item.message}}</div>\r\n                      </div>\r\n                      <div v-if=\"item.type == 'image'\" class=\"messageBox__image\"\r\n                      @click=\"clickImageMessage(item.id);isChangeHeadPic=false;\"><img :src=\"item.message\"></div>\r\n                          <div class=\"messageBox__delete\">\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"messageBox__time\">{{item.timeStamp}}</div>\r\n                </b-media-aside>\r\n            </template>\r\n\r\n            <!-- 區塊：self -->\r\n            <template v-if=\"item.userName == userName\">\r\n                <div class=\"messageBox messageBox--self\" :key=\"item.id\"\r\n                @mouseenter=\"hoverMessageId = item.id\"\r\n                @mouseleave=\"hoverMessageId = null\">\r\n                    <div class=\"messageBox__time\">{{item.timeStamp}}</div>\r\n                    <div class=\"messageBox__content\">\r\n                        <div v-if=\"item.type == 'text'\" class=\"messageBox__message\"\r\n                        @click=\"currentMsgID = currentMsgID === item.id ? '' : item.id\">\r\n                            <div class=\"messageBox__text\" :id=\"item.id\">{{item.message}}</div>\r\n                        </div>\r\n                        <div v-if=\"item.type == 'image'\" class=\"messageBox__image\"\r\n                        @click=\"clickImageMessage(item.id);isChangeHeadPic=false;\"><img :src=\"item.message\"></div>\r\n                    </div>\r\n                    <div class=\"messageBox__delete\">\r\n                        <span @click=\"deleteMessage(hoverMessageId)\"\r\n                        v-show=\"currentMsgID === item.id\" >刪除</span>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </template>\r\n        <!-- 區塊：上傳進度條 -->\r\n        <div v-show=\"upload\" class=\"messageBox messageBox--self\">\r\n          <div class=\"messageBox__progress\">\r\n            <div id=\"js-progressBar\" class=\"messageBox__progress--state\"></div>\r\n            <div class=\"messageBox__progress--number\">{{progress}}</div>\r\n          </div>\r\n        </div>\r\n    </b-card>\r\n\r\n    <!-- Room Bottom -->\r\n    <b-card class=\"roomBottom\">\r\n        <b-card-header class=\"disablePadding\">\r\n          <!-- 上傳圖片 -->\r\n          <div class=\"roomBottom__tools_upload\">\r\n          <label for=\"file-upload\" class=\"file-upload-style\" title=\"選擇檔案\">\r\n            <i class=\"fa fa-paperclip\"></i>\r\n          </label>\r\n          <input type=\"file\" id=\"file-upload\" accept=\"image/*\" @change=\"sendImage($event, true)\" />\r\n          </div>\r\n        </b-card-header>\r\n        <div class=\"roomBottom__input\">\r\n          <!-- 若要再帶入原生js的event(e)到function中，必須使用$event當參數傳入 -->\r\n          <textarea id=\"js-message\" class=\"roomBottom__input__textarea\"\r\n          :class=\"{disable: !userName}\" @keydown.enter=\"sendMessage($event)\"></textarea>\r\n        </div>\r\n    </b-card>\r\n    <!-- 檢視圖片 -->\r\n    <b-modal v-model=\"viewModal\" :title=\"viewImageTitle\" size=\"lg\">\r\n      <template slot=\"default\">\r\n        <img :src=\"viewImage\" style=\"max-width:100%;\">\r\n      </template>\r\n      <template slot=\"modal-footer\" slot-scope=\"{ ok }\">\r\n        <input type=\"file\" id=\"headPicInput\" accept=\"image/*\" @change=\"sendImage($event, false)\">\r\n        <b-button size=\"sm\" variant=\"success\" @click=\"changeHeadPic()\" v-if=\"isChangeHeadPic\">更換</b-button>\r\n        <b-button size=\"sm\" :href=\"viewImage\" download=\"vueSimpleChatDownload\">下載</b-button>\r\n        <b-button size=\"sm\" variant=\"primary\" @click=\"ok()\">OK</b-button>\r\n      </template>\r\n    </b-modal>\r\n    <!-- Other user modal -->\r\n    <b-modal v-model=\"viewOtherUserModal\" :title=\"viewOtherUserModalTitle\" hide-footer>\r\n      <img :src=\"viewOtherUserHeadPicture\" class=\"view-other-user-picture\">\r\n    </b-modal>\r\n    \r\n    <!-- Modify group name-->\r\n    <b-modal v-model=\"modifyGroupModal\" title=\"編輯群組\">\r\n      <span style=\"color:red;\">{{modifyGroupNameMsg}}</span>\r\n      <b-input-group prepend=\"名稱\" class=\"mt-3\">\r\n        <b-form-input type=\"text\" v-model=\"modifyGroupName\"></b-form-input>\r\n        <!--\r\n        <b-input-group-append>\r\n          <b-button variant=\"primary\">確認修改</b-button>\r\n        </b-input-group-append>\r\n        -->\r\n      </b-input-group>\r\n\r\n      <b-input-group class=\"mt-3\">\r\n        <!-- Styled -->\r\n        <b-form-file\r\n          v-model=\"modifyGroupImage\"\r\n          :state=\"Boolean(modifyGroupImage)\"\r\n          placeholder=\"請點擊上傳圖片...\"\r\n          drop-placeholder=\"將圖片拉至此處...\"\r\n          accept=\"image/*\"\r\n          browse-text=\"瀏覽\"\r\n          @change=\"uploadGroupImage($event)\"\r\n        ></b-form-file>\r\n      </b-input-group>\r\n      <hr>\r\n      <img :src=\"previewGroupImageSrc\" style=\"max-width:400px;\" />\r\n\r\n      <template slot=\"modal-footer\" slot-scope=\"{ ok }\">\r\n        <b-button size=\"sm\" @click=\"ok()\">取消</b-button>\r\n        <b-button size=\"sm\" variant=\"primary\" @click=\"confirmGroupNameModify()\">確認</b-button>\r\n      </template>\r\n    </b-modal>\r\n\r\n</b-container>\r\n</template>\r\n\r\n<script>\r\n// msgRef = firebase中的資料表/messages/，若沒有的會自動建立\r\nconst msgRef = firebase.database().ref('/messages/');\r\nconst userRef = firebase.storage().ref('/users/');\r\nconst userFileRef = firebase.database().ref('/userProfile/');\r\nconst storageRef = firebase.storage().ref('/images/');\r\nconst groupRef = firebase.database().ref('/groupInfo/');\r\nconst groupImgRef = firebase.storage().ref('/groupImages/');\r\nimport VueLoading from 'vue-loading-overlay';\r\nimport 'vue-loading-overlay/dist/vue-loading.css';\r\n\r\nexport default {\r\n  // 指定使用此頁的name\r\n  name: 'ChatRoom',\r\n  components: {\r\n    loading: VueLoading\r\n  },\r\n  data() {\r\n    return {\r\n      hoverMessageId: null,\r\n      groupName: '',\r\n      groupImage: '',\r\n      userName: '', // 名稱\r\n      messages: [], // 訊息內容\r\n      upload: false, // 上傳進度框\r\n      progress: '', // 上傳進度%數\r\n      currentMsgID: '',\r\n      isLoading: false,\r\n      isChangeHeadPic: false, // 是否為大頭貼檢視，控制\"更換\"button\r\n      userList: null,\r\n      userPic: '',\r\n      viewModal: false, // 檢視Modal\r\n      viewImage: '', // 欲檢視的圖片\r\n      viewImageTitle: '', // 欲檢視圖片的標題\r\n      otherUserPic: 'https://github.com/subcrew692/VueSimpleChat/blob/master/src/assets/user.png?raw=true',\r\n      selectOtherUser: '',    // 是否點選其他User，若是，則塞入ID以便查詢大頭貼\r\n      firstOpen: true, // 確認是否為第一次開啟，若為第一次開啟則將聊天拉至最底部(為了避免每點一次訊息就被拉到最底部)\r\n      viewOtherUserModal: false, // Other user modal\r\n      viewOtherUserModalTitle: '', // Other user modal title\r\n      viewOtherUserHeadPicture: '', // Other user modal head picture\r\n      modifyGroupModal: false, // Modify group modal\r\n      modifyGroupName: '',\r\n      modifyGroupNameMsg: '',\r\n      modifyGroupImage: null, // 上傳群組圖片input\r\n      previewGroupImageSrc: '', // 預覽群組圖片src\r\n      tempImage: null // 暫存上傳的群組圖片\r\n    }\r\n  },\r\n  methods: {\r\n    /** 儲存設定名稱 */\r\n    saveName(cookieName) {\r\n      const vm = this;\r\n      let userName = '';\r\n      if(cookieName !== null) {\r\n        userName = cookieName;\r\n      }else {\r\n        console.log('bad bad');\r\n        this.$router.push('/');\r\n      }\r\n      vm.userName = userName;\r\n      vm.getUserHeadPicture();\r\n    },\r\n    /** 取得user大頭貼 */\r\n    getUserHeadPicture() {\r\n      const vm = this;\r\n      const userName = vm.userName;\r\n      // 尋找此user的大頭貼照片\r\n      userFileRef.on('value', function(snapshot) {\r\n        const val = snapshot.val();\r\n        if(val !== null && val !== undefined) {\r\n          vm.userList = val;\r\n        }\r\n      });\r\n      var tempName = '';\r\n      var hasPic = false;\r\n      if(vm.userList != null) {\r\n        for(var i in vm.userList) {\r\n          if(userName === i) {\r\n            console.log('this user has picture');\r\n            const detail = vm.userList[i];\r\n            for(var j in detail) {\r\n              if(tempName < j) {\r\n                tempName = j;\r\n                vm.userPic = detail[j].pictureURL;\r\n                hasPic = true;\r\n              }\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      vm.userPic = hasPic ? vm.userPic : vm.otherUserPic;\r\n    },\r\n    /** 取得時間 */\r\n    getTime() {\r\n      const now = new Date();\r\n      const hours = now.getHours();\r\n      const isMorning = hours >= 12 ? false : true;\r\n      const minutes = now.getMinutes();\r\n      const format = (hours >= 12) ? \"下午\" : \"上午\";\r\n      return `${(hours >= 12) ? \"下午\" : \"上午\"} ${hours}:${(minutes < 10) ? '0' + minutes : minutes}`;\r\n    },\r\n    /** 傳送訊息 */\r\n    sendMessage(e) {\r\n      const vm = this;\r\n      const userName = vm.userName;\r\n      let message = document.querySelector('#js-message');\r\n      // 如果是按住shift則不傳送訊息(多行輸入)\r\n      if(e.shiftKey) {\r\n        return false;\r\n      }\r\n      // 如果輸入是空則不傳送訊息\r\n      if(message.value.length <= 1 && message.value.trim() == '') {\r\n        // 避免enter產生的空白行\r\n        e.preventDefault();\r\n        return false;\r\n      }\r\n      // 對firebase的db做push, db只能接受json格式物件, 若要用陣列要先轉字串來存\r\n      msgRef.push({\r\n        userName: userName,\r\n        type: 'text',\r\n        message: message.value,\r\n        headPicture: vm.userPic,\r\n        timeStamp: vm.getTime()\r\n      })\r\n      // 清空輸入欄位避免enter產生的空白換行\r\n      message.value = '';\r\n      vm.scrollToBottom();\r\n      e.preventDefault();\r\n    },\r\n    /** 預覽上傳群組圖片 */\r\n    uploadGroupImage(e) {\r\n      const vm = this;\r\n      vm.tempImage = e.target.files[0];\r\n      \r\n      if(vm.tempImage) {\r\n        var reader = new FileReader();\r\n        reader.onload = function(e) {\r\n          vm.previewGroupImageSrc = e.target.result;\r\n        }\r\n        reader.readAsDataURL(vm.tempImage);\r\n      }\r\n      \r\n    },\r\n    /** 編輯群組Modal */\r\n    confirmGroupNameModify() {\r\n      const vm = this;\r\n      if(vm.modifyGroupName || vm.modifyGroupImage) {\r\n        // 變更群組名稱\r\n        if(vm.modifyGroupName) {\r\n          var uploadGroupNameRef = firebase.database().ref('/groupInfo/Names/');\r\n          uploadGroupNameRef.push({\r\n            groupName: vm.modifyGroupName,\r\n            editer: vm.userName\r\n          });\r\n          vm.modifyGroupNameMsg = '';\r\n          vm.modifyGroupModal = false;\r\n        }\r\n\r\n        // 變更群組圖片\r\n        if(vm.modifyGroupImage) {\r\n          var uploadGroupImageRef = firebase.database().ref('/groupInfo/Images/');\r\n          // 取得上傳的資料\r\n          const file = vm.tempImage;\r\n          const fileName = Math.floor(Date.now() / 1000) + `_${file.name}`;\r\n          const metadata = {\r\n            contentType: 'image/*'\r\n          };\r\n          // 上傳資訊設定\r\n          const uploadTask = groupImgRef.child(fileName).put(file, metadata);\r\n          // 上傳狀態處理\r\n          uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, \r\n            /* 上傳中，打開訊息框 */\r\n            function(snapshot) {\r\n              if(snapshot.bytesTransferred < snapshot.totalBytes) {\r\n                vm.isLoading = true;\r\n              }\r\n            },\r\n            /* 錯誤處理 */\r\n            function(error) {\r\n              msgRef.child('bug/').push({\r\n                userName: vm.userName,\r\n                type: 'image',\r\n                message: error.code,\r\n                timeStamp: vm.getTime()\r\n              })\r\n            },\r\n            /* 上傳結束處理 */\r\n            function() {\r\n              var downloadURL = '';\r\n              var now = new Date();\r\n              uploadTask.snapshot.ref.getDownloadURL().then(function(url) {\r\n                console.log(\"Group image file available at\", url);\r\n                downloadURL = url;\r\n                uploadGroupImageRef.push({\r\n                  editer: vm.userName,\r\n                  type: 'image',\r\n                  pictureURL: downloadURL,\r\n                  timeStamp: now\r\n                });\r\n\r\n                vm.isLoading = false;\r\n              });\r\n            }\r\n          )\r\n        }\r\n        // 重置編輯群組Modal\r\n        vm.modifyGroupModal = false;\r\n        vm.modifyGroupName = '';\r\n        vm.modifyGroupNameMsg = '';\r\n        vm.modifyGroupImage = null;\r\n        vm.previewGroupImageSrc = '';\r\n      }else {\r\n        vm.modifyGroupNameMsg = '若要修改，名稱或圖片不得為空';\r\n      }\r\n    },\r\n    /** 更換大頭貼 */\r\n    changeHeadPic() {\r\n      const vm = this;\r\n      let inputFile = document.getElementById(\"headPicInput\");\r\n      inputFile.click();\r\n    },\r\n    /** 傳送圖片 */\r\n    sendImage(e, isMessage) {\r\n      console.log(e);\r\n      const vm = this;\r\n      const userName = vm.userName;\r\n      // 取得上傳的資料\r\n      const file = e.target.files[0];\r\n      const fileName = Math.floor(Date.now() / 1000) + `_${file.name}`;\r\n      const metadata = {\r\n        contentType: 'image/*'\r\n      };\r\n      // 取得HTML進度條元素\r\n      let progressBar = document.querySelector('#js-progressBar');\r\n      // 上傳資訊設定\r\n      const uploadTask = storageRef.child(fileName).put(file, metadata);\r\n      const userTask = userRef.child(fileName).put(file, metadata);\r\n      if(isMessage) {\r\n        // 上傳狀態處理\r\n        uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, \r\n          /* 上傳進度 */\r\n          function(snapshot) {\r\n            let progress = Math.floor((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n            if(progress < 100) {\r\n              // 開啟進度條\r\n              vm.upload = true;\r\n              vm.progress = `${progress}%`;\r\n              progressBar.setAttribute('style', `width:${progress}%`);\r\n            }\r\n          },\r\n          /* 錯誤處理 */\r\n          function(error) {\r\n            msgRef.child('bug/').push({\r\n              userName: userName,\r\n              type: 'image',\r\n              message: error.code,\r\n              timeStamp: vm.getTime()\r\n            })\r\n          },\r\n          /* 上傳結束處理 */\r\n          function() {\r\n            var downloadURL = '';\r\n            uploadTask.snapshot.ref.getDownloadURL().then(function(url) {\r\n              console.log(\"File available at\", url);\r\n              downloadURL = url;\r\n              msgRef.push({\r\n                userName: userName,\r\n                type: 'image',\r\n                message: downloadURL,\r\n                headPicture: vm.userPic,\r\n                timeStamp: vm.getTime()\r\n              })\r\n            });\r\n            // 關閉進度條\r\n            vm.upload = false;\r\n            vm.scrollToBottom();\r\n          }\r\n        )\r\n      }else {\r\n        var uploadUserFileRef = firebase.database().ref('/userProfile/' + userName + '/');\r\n        vm.viewModal = false;\r\n        // 上傳狀態處理\r\n        userTask.on(firebase.storage.TaskEvent.STATE_CHANGED, \r\n          /* 上傳中，打開訊息框 */\r\n          function(snapshot) {\r\n            if(snapshot.bytesTransferred < snapshot.totalBytes) {\r\n              vm.isLoading = true;\r\n            }\r\n          },\r\n          /* 錯誤處理 */\r\n          function(error) {\r\n            msgRef.child('bug/').push({\r\n              userName: userName,\r\n              type: 'image',\r\n              message: error.code,\r\n              timeStamp: vm.getTime()\r\n            })\r\n          },\r\n          /* 上傳結束處理 */\r\n          function() {\r\n            var downloadURL = '';\r\n            var now = new Date();\r\n            userTask.snapshot.ref.getDownloadURL().then(function(url) {\r\n              console.log(\"File available at\", url);\r\n              downloadURL = url;\r\n              uploadUserFileRef.push({\r\n                userName: userName,\r\n                type: 'image',\r\n                pictureURL: downloadURL,\r\n                timeStamp: now\r\n              });\r\n\r\n              vm.isLoading = false;\r\n              vm.getUserHeadPicture();\r\n            });\r\n          }\r\n        )\r\n      }\r\n    },\r\n    /** 刪除訊息 */\r\n    deleteMessage(id) {\r\n      const message = msgRef.child(id)\r\n      message.remove()\r\n    },\r\n    /** 顯示更多 */\r\n    readMore(e) {\r\n      // 把內容高度限制取消\r\n      e.target.previousElementSibling.setAttribute('style', 'max-height: 100%;')\r\n      // 隱藏\"顯示更多\"按紐\r\n      e.target.setAttribute('style', 'display: none;');\r\n    },\r\n    /** 檢視大頭貼 */\r\n    viewHeadPicture() {\r\n      this.viewImage = this.userPic; // 將大頭貼src帶入到預覽圖片src\r\n      this.viewImageTitle = '大頭貼檢視';\r\n      // this.viewModal = true; // 開啟預覽Modal\r\n      if(this.selectOtherUser !== '') { // 若有值，代表選擇其他User\r\n        console.log(this.selectOtherUser);\r\n        for(var i = 0; i < this.messages.length; i++) {\r\n          if(this.messages[i].id === this.selectOtherUser) {\r\n            // 以ID找出使用者後代入對應的大頭貼\r\n            this.viewImage = this.messages[i].headPicture;\r\n          }\r\n        }\r\n      }\r\n      this.viewModal = true;\r\n    },\r\n    /* 點擊預覽圖片 */\r\n    clickImageMessage(imageId) {\r\n      this.currentMsgID = imageId; // 將目前訊息ID改為該訊息的ID，才會打開下載和刪除的欄位\r\n      this.viewImage = this.userPic;\r\n      this.viewImageTitle = '圖片預覽';\r\n      for(var i = 0; i < this.messages.length; i++) {\r\n        if(this.messages[i].id === imageId) {\r\n          // 以ID找出使用者後代入對應的大頭貼\r\n          this.viewImage = this.messages[i].message;\r\n        }\r\n      }\r\n      this.viewModal = true;\r\n    },\r\n    /* 瀏覽其他使用者資料 */\r\n    viewOtherUser(item) {\r\n      const vm = this;\r\n      vm.viewOtherUserModalTitle = item.userName;\r\n      vm.viewOtherUserHeadPicture = item.headPicture;\r\n      vm.viewOtherUserModal = true;\r\n    },\r\n    getCookie(cname) {\r\n      var name = cname;\r\n      console.log(document.cookie);\r\n      var ca = document.cookie.split(';');\r\n      for(var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while(c.charAt(0) === ' ') {\r\n          c = c.substring(1);\r\n        }\r\n        if(c.indexOf(name) === 0) {\r\n          return c.substring(name.length + 1, c.length);\r\n        }\r\n      }\r\n      return '';\r\n    },\r\n    deleteAllCookies() {\r\n      var cookies = document.cookie.split(\";\");\r\n\r\n      for (var i = 0; i < cookies.length; i++) {\r\n          var cookie = cookies[i];\r\n          var eqPos = cookie.indexOf(\"=\");\r\n          var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n          document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\r\n      }\r\n    },\r\n    scrollToBottom() {\r\n      // 把聊天視窗滾到最底部(讀取最新消息)\r\n      const roomBody = document.querySelector('#js-roomBody');\r\n      roomBody.scrollTop = roomBody.scrollHeight;\r\n    },\r\n    logOut() {\r\n      this.deleteAllCookies();\r\n      this.$router.push('/');\r\n    }\r\n  },\r\n  // mounted是vue的生命週期之一，代表模板已編譯完成，已經取值準備渲染HTML畫面了\r\n  mounted() {\r\n    const vm = this;\r\n    msgRef.on('value', function(snapshot) {\r\n      const val = snapshot.val();\r\n      const messageData = val\r\n        ? Object.keys(val).map(key => ({ id: key, ...val[key] }))\r\n        : null\r\n      vm.messages = messageData;\r\n    });\r\n    // 尋找此user的大頭貼照片\r\n    userFileRef.on('value', function(snapshot) {\r\n      const val = snapshot.val();\r\n      if(val !== null && val !== undefined) {\r\n        vm.userList = val;\r\n        // 因為同步關係，所以放在裡面做，才會先取得user file(取得user大頭貼)再儲存名字\r\n        let cookie = vm.getCookie('name');\r\n        if(cookie) {\r\n          vm.saveName(cookie);\r\n        }else {\r\n          vm.$router.push('/');\r\n        }\r\n      }\r\n    });\r\n    groupRef.on('value', function(snapshot) {\r\n      const val = snapshot.val();\r\n      const groupNameList = val.Names\r\n        ? Object.keys(val.Names).map(key => ({ id: key, ...val.Names[key] }))\r\n        : null;\r\n      \r\n      const groupImageList = val.Images\r\n        ? Object.keys(val.Images).map(key => ({ id: key, ...val.Images[key] }))\r\n        : null;\r\n      \r\n      vm.groupName = groupNameList[groupNameList.length-1].groupName; // 只取最後一筆最新的\r\n      vm.groupImage = groupImageList[groupImageList.length-1].pictureURL; // 只取最後一筆最新的\r\n    });\r\n  },\r\n  // update是vue的生命週期之一，接在munted後方代表HTML元件渲染完成後\r\n  updated() {\r\n    // 判斷內容高度超過300就隱藏起來，把\"顯示更多\"按紐打開\r\n    const messages = document.querySelectorAll('.messageBox__message');\r\n    //console.log(messages);\r\n    messages.forEach((message) => {\r\n      if(message.offsetHeight > 300) {\r\n        message.querySelector('.message__readMore').setAttribute('style', 'display: block');\r\n      }\r\n    });\r\n    if(this.firstOpen) {\r\n      // 當畫面渲染完成，把聊天視窗滾到最底部(讀取最新消息)\r\n      this.scrollToBottom();\r\n      this.firstOpen = false; // 防止點選訊息視窗滑到最底部\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n/* 聊天室 */\r\n.roomHeadView {\r\n    background-color: darkgray\r\n}\r\n.roomBodyView {\r\n    background-color: #fff;\r\n    height: 50vh;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n}\r\n.roomBottom {\r\n  bottom: 0px;\r\n  border-radius: 0px 0px 5px 5px;\r\n  background-color: #FFFFFF;\r\n}\r\n.disablePadding {\r\n  margin: -1.25rem -1.25rem 0 -1.25rem;\r\n  padding: 0;\r\n  text-align: left;\r\n}\r\n.roomBottom__tools {\r\n  border-top: solid 1px #E7E7E7;\r\n  border-bottom: solid 2px #E7E7E7;\r\n  background-color: #F6F6F6;\r\n  height: 30px;\r\n  padding: 0px 5px;\r\n  text-align: left;\r\n}\r\n.roomBottom__input {\r\n  padding: 10px 10px 5px 10px;\r\n}\r\n.roomBottom__input__textarea {\r\n  width: 100%;\r\n  height: 60px;\r\n  border: none;\r\n  resize: none;\r\n  outline: none;\r\n}\r\n\r\n/* 上傳檔案圖示 */\r\n.roomBottom__tools_upload {\r\n  padding: 8px 0px 0px 5px;\r\n}\r\ninput[type=\"file\"] {\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  clip: rect(0,0,0,0);\r\n  border: 0;\r\n}\r\n.file-upload-style {\r\n  display: inline-block;\r\n  padding: 6px 12px;\r\n  cursor: pointer;\r\n  height: 100%;\r\n}\r\n.file-upload-style:hover {\r\n  border: solid 0.5px #DCDCDC;\r\n}\r\n\r\n/* 瀏覽其他使用者Modal */\r\n.view-other-user-picture {\r\n  max-width:250px;\r\n  max-height:250px;\r\n  border: solid 3px #DCDCDC;\r\n  overflow: hidden;\r\n}\r\n\r\n/* card without border */\r\n.cardWithoutBorder {\r\n    border: 0px !important;\r\n    \r\n}\r\n.cardWithoutBorder img {\r\n  border-radius: 50%;\r\n}\r\n/* media */\r\n@media screen and (max-width: 425px) {\r\n  .messageBox__content {\r\n    max-width: 60%;\r\n  }\r\n}\r\n@media screen and (max-width: 385px) {\r\n  .messageBox__content {\r\n    max-width: 50%;\r\n  }\r\n}\r\n/* message */\r\n.messageBox {\r\n  padding: 5px 10px;\r\n  position: relative;\r\n  text-align: left;\r\n}\r\n.messageBox__user {\r\n  height: 40px;\r\n  width: 40px;\r\n  border-radius: 50%;\r\n  vertical-align: top;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n}\r\n.messageBox__content {\r\n  max-width: 70%;\r\n  display: inline-block;\r\n  text-align: left;\r\n}\r\n.messageBox__name {\r\n  margin: 5px 0px 5px 5px;\r\n  font-size: 13px;\r\n  color: #727C8A;\r\n  vertical-align: top;\r\n  cursor: pointer;\r\n}\r\n.messageBox__message {\r\n  margin: 5px 0px 5px 5px;\r\n  font-size: 12px;\r\n  color: #35393D;\r\n  letter-spacing: 0.6px;\r\n  background-color: #E3E8EB;\r\n  border-radius: 12px;\r\n  line-height: 1.5;\r\n  text-align: left;\r\n  word-break: break-all;\r\n  /*：與html的<pre></pre>同效果，可以使textarea的換行元素正常顯示 */\r\n  white-space: pre-line;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n}\r\n.messageBox__text {\r\n  padding: 8px 10px 9px 11px;\r\n  max-height: 300px;\r\n  overflow: hidden;\r\n}\r\n.messageBox__readMore {\r\n  border-top: 1px solid #D9DBDD;\r\n  margin-top: 6px;\r\n  padding: 6px 13px 10px 13px;\r\n  left: 0;\r\n  right: 0;\r\n  cursor: pointer;\r\n  display: none;\r\n}\r\n.messageBox__image {\r\n  margin: 5px 25px 5px 5px;\r\n  cursor: pointer;\r\n}\r\n.messageBox__image img {\r\n  border-radius: 5px;\r\n  max-width: 180px;\r\n  max-height: 50px;\r\n}\r\n.messageBox__time {\r\n  transform: scale(0.7);\r\n  color: #ACB0B8;\r\n  vertical-align: bottom;\r\n  margin: 50px 0px 5px -12px;\r\n  display: inline-block;\r\n}\r\n.messageBox__delete {\r\n  font-size: 12px;\r\n  color: #ACB0B8;\r\n  margin-right: 25px;\r\n  cursor: pointer;\r\n}\r\n.messageBox__progress {\r\n  width: 25%;\r\n  margin-right: 60px;\r\n  border-radius: 5px;\r\n  background-color: #D4D9E1;\r\n  height: 6px;\r\n}\r\n.messageBox__progress--state {\r\n  background-color: #00CE00;\r\n  height: 6px;\r\n  width: 10%;\r\n  border-radius: 5px;\r\n  float: right;\r\n}\r\n.messageBox__progress--number {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  font-size: 12px;\r\n  color: #B7B7B7;\r\n  margin-right: 35px;\r\n}\r\n.messageBox--self {\r\n  text-align: right;\r\n}\r\n.messageBox--self .messageBox__message {\r\n  background-color: #AFF47E;\r\n  margin-right: 25px;\r\n}\r\n.messageBox--self .messageBox__message__text {\r\n  padding: 8px 10px 9px 11px;\r\n  max-height: 100%;\r\n  overflow: unset;\r\n}\r\n.messageBox--self .messageBox__time {\r\n  margin: 0px -16px 5px 0px;\r\n}\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ChatRoom.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"col-md-5\",staticStyle:{\"font-family\":\"courier new\"}},[_c('loading',{attrs:{\"loader\":\"bars\",\"active\":_vm.isLoading,\"can-cancel\":true,\"is-full-page\":false},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._v(\" \"),_c('b-card',{staticClass:\"cardWithoutBorder mb-3\",attrs:{\"img-src\":_vm.userPic,\"img-width\":\"70\",\"img-height\":\"70\",\"img-alt\":\"Card image\",\"img-right\":\"\"}},[_c('b-card-text',{staticClass:\"text-left\"},[_vm._v(\"Welcome to \"+_vm._s(_vm.groupName)+\"! \"+_vm._s(_vm.userName))])],1),_vm._v(\" \"),_c('b-card',{staticClass:\"roomHeadView\"},[_c('b-media',[(_vm.groupImage !== '')?_c('b-img',{attrs:{\"slot\":\"aside\",\"alt\":\"placeholder\",\"src\":_vm.groupImage,\"width\":\"50\",\"height\":\"50\"},slot:\"aside\"}):_vm._e(),_vm._v(\" \"),_c('h5',{staticClass:\"mt-0\",attrs:{\"slot\":\"aside\"},slot:\"aside\"},[_vm._v(_vm._s(_vm.groupName))]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('b-dropdown',{staticClass:\"m-2\",attrs:{\"id\":\"dropdown-right\",\"right\":\"\",\"text\":\"Setting\",\"variant\":\"primary\"}},[_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.viewHeadPicture();_vm.isChangeHeadPic=true}}},[_vm._v(\"大頭貼檢視/更新\")]),_vm._v(\" \"),_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.modifyGroupModal=true;}}},[_vm._v(\"編輯群組\")]),_vm._v(\" \"),_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.logOut()}}},[_vm._v(\"登出\")])],1)],1)],1)],1),_vm._v(\" \"),_c('b-card',{staticClass:\"roomBodyView\",attrs:{\"id\":\"js-roomBody\"}},[_vm._l((_vm.messages),function(item){return [(item.userName != _vm.userName)?[_c('b-media-aside',[_c('b-img',{staticClass:\"messageBox__user mt-3\",attrs:{\"slot\":\"aside\",\"src\":item.headPicture === null ? _vm.otherUserPic : item.headPicture},on:{\"click\":function($event){return _vm.viewOtherUser(item)}},slot:\"aside\"}),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__content\"},[_c('div',{staticClass:\"messageBox__name\"},[_vm._v(_vm._s(item.userName))]),_vm._v(\" \"),(item.type == 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))])]):_vm._e(),_vm._v(\" \"),(item.type == 'image')?_c('div',{staticClass:\"messageBox__image\",on:{\"click\":function($event){_vm.clickImageMessage(item.id);_vm.isChangeHeadPic=false;}}},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__delete\"})]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))])],1)]:_vm._e(),_vm._v(\" \"),(item.userName == _vm.userName)?[_c('div',{key:item.id,staticClass:\"messageBox messageBox--self\",on:{\"mouseenter\":function($event){_vm.hoverMessageId = item.id},\"mouseleave\":function($event){_vm.hoverMessageId = null}}},[_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__content\"},[(item.type == 'text')?_c('div',{staticClass:\"messageBox__message\",on:{\"click\":function($event){_vm.currentMsgID = _vm.currentMsgID === item.id ? '' : item.id}}},[_c('div',{staticClass:\"messageBox__text\",attrs:{\"id\":item.id}},[_vm._v(_vm._s(item.message))])]):_vm._e(),_vm._v(\" \"),(item.type == 'image')?_c('div',{staticClass:\"messageBox__image\",on:{\"click\":function($event){_vm.clickImageMessage(item.id);_vm.isChangeHeadPic=false;}}},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__delete\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentMsgID === item.id),expression:\"currentMsgID === item.id\"}],on:{\"click\":function($event){return _vm.deleteMessage(_vm.hoverMessageId)}}},[_vm._v(\"刪除\")])])])]:_vm._e()]}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.upload),expression:\"upload\"}],staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__progress\"},[_c('div',{staticClass:\"messageBox__progress--state\",attrs:{\"id\":\"js-progressBar\"}}),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__progress--number\"},[_vm._v(_vm._s(_vm.progress))])])])],2),_vm._v(\" \"),_c('b-card',{staticClass:\"roomBottom\"},[_c('b-card-header',{staticClass:\"disablePadding\"},[_c('div',{staticClass:\"roomBottom__tools_upload\"},[_c('label',{staticClass:\"file-upload-style\",attrs:{\"for\":\"file-upload\",\"title\":\"選擇檔案\"}},[_c('i',{staticClass:\"fa fa-paperclip\"})]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"file\",\"id\":\"file-upload\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.sendImage($event, true)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"roomBottom__input\"},[_c('textarea',{staticClass:\"roomBottom__input__textarea\",class:{disable: !_vm.userName},attrs:{\"id\":\"js-message\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMessage($event)}}})])],1),_vm._v(\" \"),_c('b-modal',{attrs:{\"title\":_vm.viewImageTitle,\"size\":\"lg\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nreturn [_c('input',{attrs:{\"type\":\"file\",\"id\":\"headPicInput\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.sendImage($event, false)}}}),_vm._v(\" \"),(_vm.isChangeHeadPic)?_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.changeHeadPic()}}},[_vm._v(\"更換\")]):_vm._e(),_vm._v(\" \"),_c('b-button',{attrs:{\"size\":\"sm\",\"href\":_vm.viewImage,\"download\":\"vueSimpleChatDownload\"}},[_vm._v(\"下載\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\"OK\")])]}}]),model:{value:(_vm.viewModal),callback:function ($$v) {_vm.viewModal=$$v},expression:\"viewModal\"}},[_c('template',{slot:\"default\"},[_c('img',{staticStyle:{\"max-width\":\"100%\"},attrs:{\"src\":_vm.viewImage}})])],2),_vm._v(\" \"),_c('b-modal',{attrs:{\"title\":_vm.viewOtherUserModalTitle,\"hide-footer\":\"\"},model:{value:(_vm.viewOtherUserModal),callback:function ($$v) {_vm.viewOtherUserModal=$$v},expression:\"viewOtherUserModal\"}},[_c('img',{staticClass:\"view-other-user-picture\",attrs:{\"src\":_vm.viewOtherUserHeadPicture}})]),_vm._v(\" \"),_c('b-modal',{attrs:{\"title\":\"編輯群組\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.confirmGroupNameModify()}}},[_vm._v(\"確認\")])]}}]),model:{value:(_vm.modifyGroupModal),callback:function ($$v) {_vm.modifyGroupModal=$$v},expression:\"modifyGroupModal\"}},[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.modifyGroupNameMsg))]),_vm._v(\" \"),_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":\"名稱\"}},[_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.modifyGroupName),callback:function ($$v) {_vm.modifyGroupName=$$v},expression:\"modifyGroupName\"}})],1),_vm._v(\" \"),_c('b-input-group',{staticClass:\"mt-3\"},[_c('b-form-file',{attrs:{\"state\":Boolean(_vm.modifyGroupImage),\"placeholder\":\"請點擊上傳圖片...\",\"drop-placeholder\":\"將圖片拉至此處...\",\"accept\":\"image/*\",\"browse-text\":\"瀏覽\"},on:{\"change\":function($event){return _vm.uploadGroupImage($event)}},model:{value:(_vm.modifyGroupImage),callback:function ($$v) {_vm.modifyGroupImage=$$v},expression:\"modifyGroupImage\"}})],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('img',{staticStyle:{\"max-width\":\"400px\"},attrs:{\"src\":_vm.previewGroupImageSrc}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-afb9bad8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatRoom.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-afb9bad8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatRoom.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatRoom.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatRoom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-afb9bad8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatRoom.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatRoom.vue\n// module id = null\n// module chunks = ","<template>\r\n  <b-container class=\"col-md-4\">\r\n    <h2><b-badge variant=\"success\">Register</b-badge></h2>\r\n    <b-form>\r\n        <div style=\"text-align:left;\">\r\n            <i class=\"fa fa-user\"></i> Username: \r\n            <b-input v-model.trim=\"username\" :state=\"usernamePass\" @change=\"validationUsername()\" \r\n            placeholder=\"請輸入5-15位英數字...\" class=\"mb-3\"></b-input>\r\n\r\n            <i class=\"fa fa-lock\"></i> Password: \r\n            <b-input v-model.trim=\"password\" type=\"password\" :state=\"passwordPass\" @change=\"validationPassword()\"\r\n            placeholder=\"請輸入6-20位英數字...\" class=\"mb-3\"></b-input>\r\n\r\n            <i class=\"fa fa-envelope\"></i> Email address:\r\n            <b-input v-model.trim=\"email\" type=\"email\" :state=\"emailPass\" @change=\"validationEmail()\"\r\n            placeholder=\"請輸入Email...\" class=\"mb-3\"></b-input>\r\n\r\n            <table width=\"100%\">\r\n            <tbody>\r\n                <tr>\r\n                <td style=\"width:50%;text-align:left;\">\r\n                    <router-link to=\"/\" class=\"btn btn-outline-primary btn-sm\"><i class=\"fa fa-home\"></i> 回登入頁面</router-link>\r\n                </td>\r\n                <td style=\"width:50%;text-align:right;\">\r\n                    <button class=\"btn btn-success btn-sm\" @click=\"register()\">註冊</button>\r\n                </td>\r\n                </tr>\r\n            </tbody>\r\n            </table>\r\n        </div>\r\n    </b-form>\r\n    \r\n    <b-modal ref=\"msgModal\" title=\"Infomation\">\r\n        {{message}}\r\n        <template slot=\"modal-footer\">\r\n            <b-button size=\"sm\" variant=\"primary\" @click=\"modalOKButton()\">OK</b-button>\r\n        </template>\r\n    </b-modal>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nDate.prototype.yyyymmddByDash = function() {\r\n\tvar yyyy = this.getFullYear();\r\n\tvar mm = this.getMonth() < 9 ? \"0\" + (this.getMonth() + 1) : (this.getMonth() + 1); // getMonth() is zero-based\r\n\tvar dd  = this.getDate() < 10 ? \"0\" + this.getDate() : this.getDate();\r\n\treturn \"\".concat(yyyy).concat('-').concat(mm).concat('-').concat(dd);\r\n};\r\nconst userFileRef = firebase.database().ref('/userAccount/');\r\nexport default {\r\n  data() {\r\n    return {\r\n        username: '',\r\n        password: '',\r\n        email: '',\r\n        usernamePass: '',\r\n        passwordPass: '',\r\n        emailPass: '',\r\n        allUserList: [],\r\n        message: '',\r\n        time: null,\r\n        registerSuccess: false,\r\n    }\r\n  },\r\n  methods: {\r\n    validationUsername() {\r\n        this.usernamePass = this.username.length >= 5 && this.username.length < 15;\r\n    },\r\n    validationPassword() {\r\n        this.passwordPass = this.password.length >= 6 && this.password.length < 20;\r\n    },\r\n    validationEmail() {\r\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        this.emailPass = re.test(this.email);\r\n    },\r\n    modalOKButton() {\r\n        if(this.registerSuccess) {\r\n            clearInterval(this.time);\r\n            this.$refs['msgModal'].hide();\r\n            this.$router.push('/');\r\n        }else {\r\n            this.$refs['msgModal'].hide();\r\n        }\r\n    },\r\n    register() {\r\n        const vm = this;\r\n        const username = vm.username;\r\n        const password = vm.password;\r\n        const email = vm.email;\r\n        if(vm.validationInput()) {\r\n            userFileRef.child(username + '/').push({\r\n                username: username,\r\n                password: password,\r\n                email: email,\r\n                timeStamp: new Date().yyyymmddByDash()\r\n            }).then(() => {\r\n                this.registerSuccess = true;\r\n                this.message = '註冊成功!請點擊OK或稍後將自動跳轉至首頁......';\r\n                this.$refs['msgModal'].show();\r\n                this.time = setInterval(() => {\r\n                    clearInterval(this.time);\r\n                    this.$refs['msgModal'].hide();\r\n                    this.registerSuccess = false;\r\n                    this.$router.push('/');\r\n                }, 3000);\r\n            }).catch(e => console.log('error'));\r\n        }else {\r\n            this.registerSuccess = false;\r\n            this.$refs['msgModal'].show();\r\n        }        \r\n    },\r\n    validationInput() {\r\n        const userList = this.allUserList;\r\n        const username = this.username;\r\n        const password = this.password;\r\n        const email = this.email;\r\n        let pass = true;\r\n        if(username && password && email) {\r\n            for(var i = 0; i < userList.length; i++) {\r\n                if(userList[i] === username) {\r\n                    this.message = 'username has been taken, please change one';\r\n                    pass = false;\r\n                }\r\n            }\r\n            return pass;\r\n        }else {\r\n            this.message = 'input wrong';\r\n            pass = false;\r\n            return pass;\r\n        }\r\n    }\r\n  },\r\n  mounted() {\r\n    const vm = this;\r\n    userFileRef.on('value', function(snapshot) {\r\n        const val = snapshot.val();\r\n        Object.keys(val).forEach(key => {\r\n            const obj = val[key];\r\n            Object.keys(obj).forEach(objKey => {\r\n                vm.allUserList.push(obj[objKey].username);\r\n            });\r\n        });\r\n        // console.log(vm.allUserList);\r\n    });\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"col-md-4\"},[_c('h2',[_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Register\")])],1),_vm._v(\" \"),_c('b-form',[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('i',{staticClass:\"fa fa-user\"}),_vm._v(\" Username: \\n          \"),_c('b-input',{staticClass:\"mb-3\",attrs:{\"state\":_vm.usernamePass,\"placeholder\":\"請輸入5-15位英數字...\"},on:{\"change\":function($event){return _vm.validationUsername()}},model:{value:(_vm.username),callback:function ($$v) {_vm.username=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"username\"}}),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-lock\"}),_vm._v(\" Password: \\n          \"),_c('b-input',{staticClass:\"mb-3\",attrs:{\"type\":\"password\",\"state\":_vm.passwordPass,\"placeholder\":\"請輸入6-20位英數字...\"},on:{\"change\":function($event){return _vm.validationPassword()}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"password\"}}),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-envelope\"}),_vm._v(\" Email address:\\n          \"),_c('b-input',{staticClass:\"mb-3\",attrs:{\"type\":\"email\",\"state\":_vm.emailPass,\"placeholder\":\"請輸入Email...\"},on:{\"change\":function($event){return _vm.validationEmail()}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"email\"}}),_vm._v(\" \"),_c('table',{attrs:{\"width\":\"100%\"}},[_c('tbody',[_c('tr',[_c('td',{staticStyle:{\"width\":\"50%\",\"text-align\":\"left\"}},[_c('router-link',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fa fa-home\"}),_vm._v(\" 回登入頁面\")])],1),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"50%\",\"text-align\":\"right\"}},[_c('button',{staticClass:\"btn btn-success btn-sm\",on:{\"click\":function($event){return _vm.register()}}},[_vm._v(\"註冊\")])])])])])],1)]),_vm._v(\" \"),_c('b-modal',{ref:\"msgModal\",attrs:{\"title\":\"Infomation\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.message)+\"\\n      \"),_c('template',{slot:\"modal-footer\"},[_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.modalOKButton()}}},[_vm._v(\"OK\")])],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a4afa34a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a4afa34a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Register.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a4afa34a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Register.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n// bootstrap-vue\r\nimport BootstrapVue from 'bootstrap-vue'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\n// font-awesome\r\nimport '@fortawesome/fontawesome-free/css/all.css'\r\n\r\n// 載入元件ChatRoom\r\n// import ChatRoom from '@/components/ChatRoom'\r\nimport LoginPage from '@/components/LoginPage'\r\nimport ChatRoom from '@/components/ChatRoom'\r\nimport Register from '@/components/Register'\r\n\r\nVue.use(BootstrapVue)\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'LoginPage',\r\n      component: LoginPage\r\n    },\r\n    {\r\n      // 路徑用於網址列\r\n      path: '/chatRoom',\r\n      // name用於設定連結，例如樣板中可用下列方式來寫連結，就不用寫<a>掛path了\r\n      // <router-link :to=\"{ name: 'ChatRoom' }\">ChatRoom Page</router-link>\r\n      name: 'ChatRoom',\r\n      // 到這個ChatRoom(/)時，使用ChatRoom元件\r\n      component: ChatRoom\r\n    },\r\n    {\r\n      path: '/register',\r\n      name: 'Register',\r\n      component: Register\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}